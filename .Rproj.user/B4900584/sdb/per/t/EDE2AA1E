{
    "collab_server" : "",
    "contents" : "#' Non-parametric RDD\n#'\n#' Non-parametric RDD estimation\n#'\n#'\n#' @param formula Formula\n#' @param data Data\n#' @param h Bandwidth\n#'\n#' @import Formula\n#' @import sandwich\n#' @import stats\n#'\n#' @export\n\nrdd_np <- function(formula, data, h = \"All\"){\n\n\n  formula <- Formula::as.Formula(formula)\n  mod <- lm(formula, data = data)\n\n  coef <- as.numeric(coef(mod)[2])\n  se <- as.numeric(sqrt(diag(sandwich::vcovHC(mod, type = \"HC1\")))[2])\n  ci_low <- round(coef - 1.96 * se, 2)\n  ci_up <- round(coef + 1.96 * se, 2)\n  N <- sum(summary(mod)$df[1:2])\n\n  if (!is.numeric(se))\n    stop(\"SE wrong.\")\n  if (!is.numeric(coef))\n    stop(\"COEF wrong.\")\n\n  pval <- 2 * stats::pnorm(abs(coef / se), lower.tail = F)\n  res <- data.frame(coef = round(coef, 2), se = round(se, 2), pval = round(pval, 2), h = h, N = N)\n\n  out <- list(res = res,\n              coef = coef,\n              se = se,\n              pval = pval)\n\n  out\n}\n",
    "created" : 1479561245574.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3224299832",
    "id" : "EDE2AA1E",
    "lastKnownWriteTime" : 1479561514,
    "last_content_update" : 1479561514702,
    "path" : "C:/Users/User/Google Drive/R/Pacotes/fmeireles/R/rdd_np.R",
    "project_path" : "R/rdd_np.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}